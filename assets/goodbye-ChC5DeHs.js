import{o as s,u as i,r as l,d,s as u,a as c}from"./firebase-config-C0024qU1.js";/* empty css              */function o(e){return e.replace(new RegExp("(\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F)","gu"),n=>`<span class="woobie-emoji">${n}</span>`)}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("h1");e.innerHTML=o(e.textContent);const n=document.getElementById("find-new-match");n.innerHTML=o(n.textContent);const t=document.getElementById("logout-btn");t.innerHTML=o(t.textContent)});const r=document.getElementById("find-new-match"),m=document.getElementById("logout-btn"),a=document.getElementById("status-msg");s(c,async e=>{if(!e){window.location.href="/auth/login.html";return}const n=e.uid;try{await i(l(d,`users/${n}`),{currentMatch:null,stage:"interests-dealbreakers"}),localStorage.removeItem("woobieMatchID"),localStorage.removeItem("tier2Answers"),console.log("Match data cleared for user:",n)}catch(t){console.error("Error clearing match data:",t)}r.onclick=async()=>{r.disabled=!0,a.textContent="Preparing to find you a new match...";try{setTimeout(()=>{window.location.href="/interests-dealbreakers/index.html"},1e3)}catch(t){console.error("Error restarting:",t),a.textContent="Error restarting. Please refresh the page.",a.style.color="#ff6666",r.disabled=!1}},m.onclick=async()=>{try{await u(c),localStorage.clear(),sessionStorage.clear(),window.location.href="/index.html"}catch(t){console.error("Logout error:",t)}}});
