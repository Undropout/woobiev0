import{o as Z,g as _,r as q,d as W,a as Q,u as X}from"./firebase-config-C0024qU1.js";/* empty css              */import"./logout-q5yztgx1.js";const B=["Vibrant","Lazy","Cheerful","Quirky","Gentle","Bold","Shy","Clever"],j=["Radiant","Shimmering","Iridescent","Gleaming","Prismatic"],O=["Glowing","Electric","Buzzing","Pulsing","Flashing"],ee=["Stellar","Astral","Luminous","Celestial","Galactic"],I=["Amber","Amaranth","Amethyst","Apricot","Aqua","Aquamarine","Auburn","Azure","Beige","Black","Blue","Bronze","Brown","Cardinal","Carmine","Celadon","Cerise","Cerulean","Charcoal","Chartreuse","Chocolate","Cinnamon","Copper","Coquelicot","Coral","Cream","Crimson","Cyan","Denim","Ebony","Ecru","Eggplant","Eggshell","Emerald","Fuchsia","Gold","Goldenrod","Gray","Green","Grey","Indigo","Ivory","Jade","Khaki","Lavender","Lemon","Lilac","Lime","Magenta","Mahogany","Maroon","Mauve","Mustard","Ocher","Olive","Orange","Orchid","Peach","Periwinkle","Persimmon","Pewter","Phlox","Pink","Puce","Pumpkin","Purple","Red","Rose","Ruby","Russet","Saffron","Salmon","Sapphire","Scarlet","Sepia","Shamrock","Sienna","Silver","Skobeloff","Slate","Tan","Tangerine","Taupe","Teal","Terracotta","Thistle","Topaz","Turquoise","Ultramarine","Umber","Vermilion","Violet","Viridian","Wheat","White","Wisteria","Yellow"],T=["#FFBF00","#9F2B68","#9966cc","#FBCEB1","#00FFFF","#00FFBF","#E87722","#007FFF","#f5f5dc","#000000","#0000FF","#CD7F32","#A52A2A","#97233F","#960018","#ACE1AF","#DE3163","#2a52be","#36454F","#dfff00","#7B3F00","#D2691E","#B87333","#e50d0e","#FF7F50","#FFFDD0","#DC143C","#00FFFF","#6F8FAF","#555D50","#C2B280","#483248","#F0EAD6","#50C878","#FF00FF","#FFD700","#daa520","#808080","#00FF00","#808080","#4B0082","#FFFFF0","#00A36C","#F0E68C","#E6E6FA","#fff44f","#C8A2C8","#BFFF00","#FF00FF","#C04000","#800000","#e0b0ff","#FFDB58","#CC7722","#808000","#FFA500","#da70d6","#FFE5B4","#CCCCFF","#EC5800","#E9EAEC","#df00ff","#FFC0CB","#CC8899","#ff7518","#6a0dad","#FF0000","#FF007F","#E0115F","#80461B","#F4C430","#fa8072","#0f52ba","#FF2400","#704214","#009E60","#A0522D","#C0C0C0","#007474","#C0C2C9","#D2B48C","#F28500","#483C32","#008080","#e2725b","#D8BFD8","#ffc87c","#30D5C8","#4166f5","#826644","#E34234","#8F00FF","#40826D","#f5deb3","#fcfcfc","#BDB5D5","#FFFF00"],oe=["Blazing","Fiery","Scorching","Flaming","Burning","Ember","Infernal","Searing","Ignited","Torch","Icy","Frosty","Glacial","Chilly","Aqueous","Marine","Tidal","Oceanic","Dewy","Misty","Breezy","Windy","Gusty","Aerial","Zephyr","Stormy","Whirling","Drafty","Tempest","Cyclonic","Rocky","Stony","Earthen","Muddy","Clay","Sandy","Pebble","Craggy","Rugged","Boulder"],te=["#FF0000","#FF3300","#FF5500","#FF7700","#FF9900","#FFBB00","#FFDD00","#FFEE00","#FFCC00","#FFAA00","#00FFFF","#00E0E0","#00C0C0","#00A0A0","#008080","#006060","#004040","#002020","#00B7EB","#00CED1","#87CEEB","#ADD8E6","#B0E0E6","#87CEFA","#B0C4DE","#A1CAF1","#89CFF0","#73C2FB","#5F9EA0","#4682B4","#00FF00","#32CD32","#228B22","#006400","#008000","#2E8B57","#3CB371","#66CDAA","#8FBC8F","#20B2AA"],ne=["Neon","Glow","Flux","Pulse","Spark"],le=["#FF00FF","#00FF00","#FFFF00","#FF4444","#00FFFF"],re=["Stellar","Nebula","Cosmo","Astral","Nova"],ae=["#4B0082","#800080","#000033","#483D8B","#9400D3"],$=["Jelly","Star","Moon","Crystal","Plasma"],R=["ü™º","‚≠ê","üåô","üîÆ","‚ö°Ô∏è"],E=["Ant","Badger","Bat","Bear","Beaver","Beetle","Bird","Bison","Blowfish","Boar","Buffalo","Bug","Butterfly","Camel","Cat","Chicken","Chipmunk","Roach","Cow","Cow","Crab","Cricket","Crocodile","Deer","Dodo","Dog","Dolphin","Dove","Dragon","Duck","Eagle","Elephant","Fish","Flamingo","Fly","Fox","Frog","Giraffe","Goat","Gorilla","Hamster","Hedgehog","Hippopotamus","Honeybee","HoneyBadger","Horse","Kangaroo","Koala","Ladybug","Leopard","Lion","Lizard","Llama","Lobster","Mammoth","Microbe","Monkey","Mosquito","Mouse","Octopus","Orangutan","Otter","Owl","Ox","Panda","Parrot","Peacock","Penguin","Pig","Polar Bear","Poodle","Rabbit","Raccoon","Ram","Rat","Rhinoceros","Rock","Sauropod","Scorpion","Seal","Shark","Shrimp","Skunk","Sloth","Snail","Snake","Spider","Squid","Swan","Tiger","T-Rex","Turkey","Turtle","Unicorn","Whale","Wolf","Worm","Zebra"],w=["üêú","ü¶°","ü¶á","üêª","ü¶´","ü™≤","üê¶","ü¶¨","üê°","üêó","üêÉ","üêõ","ü¶ã","üê´","üêà","üêî","üêøÔ∏è","ü™≥","üêÑ","üêÆ","ü¶Ä","ü¶ó","üêä","ü¶å","ü¶§","üêï","üê¨","üïäÔ∏è","üêâ","ü¶Ü","ü¶Ö","üêò","üêü","ü¶©","ü™∞","ü¶ä","üê∏","ü¶í","üêê","ü¶ç","üêπ","ü¶î","ü¶õ","üêù","üçØü¶°","üêé","ü¶ò","üê®","üêû","üêÜ","ü¶Å","ü¶é","ü¶ô","ü¶û","ü¶£","ü¶†","üêí","ü¶ü","üêÅ","üêô","ü¶ß","ü¶¶","ü¶â","üêÇ","üêº","ü¶ú","ü¶ö","üêß","üêñ","üêª‚Äç‚ùÑÔ∏è","üê©","üêá","ü¶ù","üêè","üêÄ","ü¶è","ü™®","ü¶ï","ü¶Ç","ü¶≠","ü¶à","ü¶ê","ü¶®","ü¶•","üêå","üêç","üï∑Ô∏è","ü¶ë","ü¶¢","üêÖ","ü¶ñ","ü¶É","üê¢","ü¶Ñ","üêã","üê∫","ü™±","ü¶ì"],N=["Unicorn","Dragon","Phoenix","Dinosaur","Mermaid"],H=["ü¶Ñ","üêâ","üê¶‚Äçüî•","ü¶ñ","üßú"];let F=null;Z(Q,async e=>{if(e){F=e.uid,console.log("User is logged in on name-picker:",F);try{const t=await _(q(W,`users/${F}`));if(t.exists()){const o=t.val();if(o.username&&o.stage&&o.stage!=="name-picker"&&o.stage!=="collect_preferences"){console.log(`User ${F} has existing Woobie name and is past name-picking (stage: ${o.stage}). Redirecting to resume...`),window.location.href="/resume.html";return}}}catch(t){console.error("Error checking existing user stage in name-picker:",t)}document.getElementById("confirm")&&(document.getElementById("confirm").disabled=!1),document.getElementById("reroll")&&(document.getElementById("reroll").disabled=!1)}else console.log("No user logged in on name-picker. Redirecting to login."),window.location.href="/auth/login.html"});const G=document.querySelectorAll("[data-mode]"),u=document.getElementById("name-options"),c=document.getElementById("selected-name"),k=document.getElementById("reroll"),v=document.getElementById("confirm"),p=document.createElement("button");p.textContent="üìú Show Saved Options";p.className="woobie-button";u&&u.parentElement&&u.parentElement.appendChild(p);const h=document.createElement("div");h.style.marginBottom="1rem";h.style.color="#33ff33";h.id="roll-counter";u&&u.parentElement&&u.parentElement.insertBefore(h,u);let r=localStorage.getItem("woobieModePref")||"normal",U=[],a=null,s=JSON.parse(localStorage.getItem("woobieSavedSets")||"[]"),f=parseInt(localStorage.getItem("woobieRerollCount")||"0");const A=9;let y=!1;console.log("[Name-Picker] Initial state:",{rerollCount:f,savedSetsLength:s.length,rerollsRemaining:A-f});v&&(v.disabled=!0);k&&(k.disabled=!0);function M(){localStorage.setItem("woobieSavedSets",JSON.stringify(s)),localStorage.setItem("woobieRerollCount",f.toString()),localStorage.setItem("woobieModePref",r),h&&(h.textContent=`Rerolls remaining: ${A-f}`,h.classList.add("flash-roll"),setTimeout(()=>h.classList.remove("flash-roll"),400))}function se(e){if(!e||typeof e!="string"||e.charAt(0)!=="#")return!1;const t=parseInt(e.slice(1),16),o=t>>16&255,n=t>>8&255,i=t&255;return .299*o+.587*n+.114*i<60}function D(){let e,t,o,n,i;switch(r){case"prismatic":e=[...B,...j],t=oe,o=te,n=[...E,...N],i=[...w,...H];break;case"neon":e=[...B,...O],t=[...I,...ne],o=[...T,...le],n=[...E,...N],i=[...w,...H];break;case"cosmic":e=[...B,...ee],t=[...I,...re],o=[...T,...ae],n=E.map(l=>$[Math.floor(Math.random()*$.length)]+l),i=w.map(l=>R[Math.floor(Math.random()*R.length)]+l);break;default:e=B,t=I,o=T,n=E,i=w}const m=[],S=new Set;let C=100;for(;m.length<3&&C>0;){const l=e[Math.floor(Math.random()*e.length)],d=Math.floor(Math.random()*t.length),x=t[d],g=o[d],P=Math.floor(Math.random()*n.length),K=n[P],V=i[P],L=`${l} ${x} ${K}`;if(!S.has(L)){S.add(L);const J=g,Y=r==="normal"&&se(g)?"#00ff00":"#000000";m.push({label:L,emoji:V,fg:J,bg:Y,mode:r})}C--}return C===0&&console.warn("Could not generate 3 unique names."),m}function b(e=null,t=!1){if(!u){console.error("nameOptions element not found for rendering names.");return}u.innerHTML="",U=e||D(),U.forEach(o=>{const n=document.createElement("button"),i=t?o.mode:r;n.className=`woobie-button name-button woobie-${i}`,i==="cosmic"&&n.classList.add("cosmic-pulse"),n.innerHTML=`<strong>${o.label} ${o.emoji}</strong>`,i==="normal"?(n.style.backgroundColor=o.bg,n.style.color=o.fg):o.bg!=="#000000"&&(n.style.backgroundColor=o.bg),a&&a.label===o.label&&a.emoji===o.emoji&&n.classList.add("selected"),n.onclick=()=>{a=o,c&&(c.innerHTML=`You picked: <strong>${o.label} ${o.emoji}</strong>`,c.className=`woobie-${i}`),document.querySelectorAll(".name-button").forEach(m=>m.classList.remove("selected")),n.classList.add("selected")},u.appendChild(n)})}k&&(k.onclick=()=>{if(console.log("[Reroll Button] Clicked. Current rerollCount:",f,"Max:",A),y){console.log("[Reroll Button] BLOCKED - cooldown active");return}if(f>=A){console.log("[Reroll Button] BLOCKED - max rerolls reached"),alert("You've reached the max rerolls. Pick from your saved ones or confirm a name.");return}y=!0,setTimeout(()=>{y=!1},600);const e=D();s.length>=20&&s.shift(),s.push(e),f++,console.log("[Reroll Button] Incremented rerollCount to:",f),M(),b(e),a=null,c&&(c.innerHTML="")});p&&(p.onclick=()=>{const e=document.createElement("div");e.tabIndex=-1,e.style.cssText="position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.95); z-index:9999; overflow-y:auto; padding:2rem; display:flex; flex-direction:column; align-items:center; justify-content:center;",e.innerHTML='<div style="background:#121212; border:1px solid #33ff33; padding:2rem; border-radius:5px; max-height:80vh; overflow-y:auto; width: 90%; max-width: 600px;"><h2 style="color:#33ff33; text-align:center;">Saved Sets</h2><div id="modal-sets-container" style="max-height: 60vh; overflow-y: auto;"></div><button id="close-saved-modal" class="woobie-button" style="margin-top:1rem;">‚ùå Close</button></div>',document.body.appendChild(e);const t=document.getElementById("modal-sets-container");s.length===0&&t?t.innerHTML="<p style='color:#999;'>No sets saved yet. Reroll to save name options!</p>":t&&s.forEach((n,i)=>{var C;const m=document.createElement("div");m.style.margin="1rem 0",m.style.border="1px dashed #33ff33",m.style.padding="1rem";const S=((C=n[0])==null?void 0:C.mode)||r;m.innerHTML=`<strong style="color:#33ff33">Set #${i+1} (Mode: ${S})</strong>`,n.forEach(l=>{const d=document.createElement("button");d.className=`woobie-button name-button woobie-${l.mode}`,l.mode==="cosmic"&&d.classList.add("cosmic-pulse"),d.innerHTML=`<strong>${l.label} ${l.emoji}</strong>`,l.mode==="normal"?(d.style.backgroundColor=l.bg,d.style.color=l.fg):l.bg!=="#000000"&&(d.style.backgroundColor=l.bg),d.style.margin="0.25rem",a&&a.label===l.label&&a.emoji===l.emoji&&d.classList.add("selected"),d.onclick=()=>{a=l,r=l.mode,document.body.className=`${r}-mode`,c&&(c.innerHTML=`You picked: <strong>${l.label} ${l.emoji}</strong>`,c.className=`woobie-${l.mode}`),document.querySelectorAll(".name-button").forEach(g=>g.classList.remove("selected")),b(n,!0),(u?u.querySelectorAll(".name-button"):[]).forEach(g=>{g.innerHTML.includes(l.label)&&g.innerHTML.includes(l.emoji)&&g.classList.add("selected")}),document.body.removeChild(e)},m.appendChild(d)}),t.appendChild(m)});const o=document.getElementById("close-saved-modal");o&&(o.onclick=()=>document.body.removeChild(e)),e.focus(),e.addEventListener("keydown",n=>{n.key==="Escape"&&document.body.removeChild(e)})});G&&G.forEach(e=>{e.onclick=()=>{const t=e.dataset.mode;if(console.log("[Mode Switch] Clicked mode:",t,"Current mode:",r),t===r){console.log("[Mode Switch] Same mode clicked, ignoring");return}y=!0,setTimeout(()=>{y=!1},600),r=t,document.body.className=`${r}-mode`,c&&(c.className=`woobie-${r}`);const o=D();s.length>=20&&s.shift(),s.push(o),console.log("[Mode Switch] Generated new set. rerollCount still:",f,"savedSets.length:",s.length),M(),b(o),a=null,c&&(c.innerHTML="")}});if(document.getElementById("name-options"))if(s.length===0){const e=D();e.length>0&&(s.unshift(e),M(),b(e))}else{const e=s[s.length-1];e&&e[0]&&(r=e[0].mode,document.body.className=`${r}-mode`,c&&(c.className=`woobie-${r}`)),M(),b(e,!0)}v&&(v.onclick=async()=>{if(!a){alert("Please pick a name.");return}if(!F){alert("Authentication error. Please ensure you are logged in and refresh.");return}const e=`${a.label} ${a.emoji}`;localStorage.setItem("woobieUsername",e),localStorage.setItem("woobieEmoji",a.emoji),localStorage.setItem("woobieMode",a.mode),localStorage.setItem("woobieUID",F),localStorage.removeItem("woobieSavedSets"),localStorage.removeItem("woobieRerollCount"),localStorage.removeItem("woobieModePref");const t=q(W,`users/${F}`);try{await X(t,{username:e,stage:"interests-dealbreakers",currentMatch:{username:e,stage:"interests-dealbreakers"}}),console.log(`User profile updated for ${F}. WoobieName: ${e}. Next stage: interests-dealbreakers.`)}catch(o){console.error("Error updating user profile with Woobie name and stage:",o),alert("Could not save your name choice. Please try again.");return}window.location.href="/interests-dealbreakers/index.html"});const z=document.createElement("style");z.innerHTML=`
  .flash-roll { animation: flashdown 0.4s ease-in-out; }
  @keyframes flashdown { 0% { transform: scale(1.2); color: #00ffff; } 100% { transform: scale(1); color: #33ff33; } }
`;document.head&&document.head.appendChild(z);
